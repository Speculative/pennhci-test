---
import Base from "../layouts/Base.astro";
import peopleByCategory from "../data/people.json";

const CATEGORY_NAMES = {
  pis: "Faculty",
  postdocs: "Postdocs",
  phds: "PhD Students",
  students: "Students",
  collaborators: "Collaborators",
};
---

<Base title="People">
  <section class="people-page">
    <div class="people-page__container content-width">
      <h2 class="people-page__title">People</h2>
    </div>

    {
      Object.entries(CATEGORY_NAMES).map(([category, name]) => (
        <>
          <div class="content-width">
            <h3 class="people-page__group-title">{name}</h3>
          </div>
          <div class="people-page__cards content-width">
            {peopleByCategory[category as keyof typeof peopleByCategory].map(
              (person) => (
                <a
                  class="profile-card"
                  href={person.website}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img
                    class="headshot"
                    src={`${import.meta.env.BASE_URL}${person.picture}`}
                  />
                  <div class="card-body flex-grow">
                    <h4 class="f-large">{person.name}</h4>
                    <p>
                      {person.role}, {person.affiliation}
                    </p>
                  </div>
                </a>
              ),
            )}
          </div>
        </>
      ))
    }
  </section>
</Base>
